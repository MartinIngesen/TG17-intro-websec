from flask import Flask, render_template, request, redirect
from sqlite3 import dbapi2 as sqlite3
app = Flask(__name__)

def connect_db():
    """Connects to the specific database."""
    rv = sqlite3.connect('./database.db')
    rv.row_factory = sqlite3.Row
    return rv


def init_db():
    """Initializes the database."""
    db = get_db()
    with app.open_resource('schema.sql', mode='r') as f:
        db.cursor().executescript(f.read())
    db.commit()

@app.route("/")
def hello():
    return render_template('index.html')

@app.route("/admin", methods=['GET', 'POST'])
def admin():
    if request.method == 'GET':
        return redirect('/')

    username = request.form['username']
    password = request.form['password']

    

    return render_template('admin.html', username=username)

if __name__ == "__main__":
    app.run()
